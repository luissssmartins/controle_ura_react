(this.webpackJsonpcontrole_ura_react=this.webpackJsonpcontrole_ura_react||[]).push([[0],{112:function(t,e){},113:function(t,e){},119:function(t,e,n){},120:function(t,e,n){},121:function(t,e,n){"use strict";n.r(e);var c=n(1),i=n(52),o=n.n(i),s=(n(58),n(16)),a=n(17),r=n(6),u=n(19),h=n(18),j=(n(59),n(60),n(0)),l=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(t){var c;return Object(s.a)(this,n),(c=e.call(this,t)).state={topicToSend:t.inputTopic,topicToReceive:t.outputTopic},c.handleSubmit=c.handleSubmit.bind(Object(r.a)(c)),c.handleChangeTopicToSend=c.handleChangeTopicToSend.bind(Object(r.a)(c)),c.handleChangeTopicToReceive=c.handleChangeTopicToReceive.bind(Object(r.a)(c)),c}return Object(a.a)(n,[{key:"handleChangeTopicToSend",value:function(t){this.setState({topicToSend:t.target.value})}},{key:"handleChangeTopicToReceive",value:function(t){this.setState({topicToReceive:t.target.value})}},{key:"handleSubmit",value:function(t){console.log("topicToReceive: "+this.state.topicToReceive),this.props.onTopicChange(this.state.topicToSend,this.state.topicToReceive),t.preventDefault()}},{key:"render",value:function(){return Object(j.jsxs)("form",{className:"Form",onSubmit:this.handleSubmit,children:[Object(j.jsxs)("div",{className:"TextIn",children:[Object(j.jsx)("strong",{children:"T\xf3pico para enviar: "}),Object(j.jsx)("input",{type:"text",value:this.state.topicToSend,onChange:this.handleChangeTopicToSend,id:"topic_to_send"})]}),Object(j.jsxs)("div",{className:"TextIn",children:[Object(j.jsx)("strong",{children:"T\xf3pico para receber: "}),Object(j.jsx)("input",{type:"text",value:this.state.topicToReceive,onChange:this.handleChangeTopicToReceive,id:"topic_to_receive"})]}),Object(j.jsx)("div",{className:"BtnSubmit",children:Object(j.jsx)("input",{type:"submit",value:"Ok"})})]})}}]),n}(c.Component),p=n.p+"static/media/URA_150px.365cf153.png";function d(t){return Object(j.jsxs)("header",{children:[Object(j.jsx)("img",{src:p,alt:"Logo do URA",width:"120px"}),Object(j.jsxs)("h1",{children:[" ",t.title," "]})]})}var b=n(9);n(119);function O(t){var e=Object(b.b)().client,n=t.topic;function c(t){return console.log("Click: "+t+" on "+n),e.publish(n,t)}return Object(j.jsxs)("div",{className:"controls",children:[Object(j.jsx)("button",{type:"button",onClick:function(){return c("FRT")},children:"Frente"}),Object(j.jsxs)("div",{children:[Object(j.jsx)("button",{type:"button",onClick:function(){return c("ESQ")},children:"Esquerda"}),Object(j.jsx)("button",{type:"button",onClick:function(){return c("DIR")},children:"Direita"})]}),Object(j.jsx)("button",{type:"button",onClick:function(){return c("TRS")},children:"Tr\xe1s"})]})}n(120);function T(t){var e=-1,n=-1,c=-1,i=-1;if(t.msg){var o=t.msg.split(" "),s=parseInt(o[1]),a=new Date(null);a.setSeconds(s),e=a.toISOString().substr(11,8),i=o[2],n=o[3],c=o[4]}return Object(j.jsxs)("div",{children:[Object(j.jsxs)("p",{children:[" ",Object(j.jsx)("strong",{children:"Sensor de Dist\xe2ncia(cm): "})," ",i,"  "]}),Object(j.jsxs)("p",{children:[" ",Object(j.jsx)("strong",{children:"Sensor de Linha Esquerdo: "})," ",n,"  "]}),Object(j.jsxs)("p",{children:[" ",Object(j.jsx)("strong",{children:"Sensor de Linha Direito: "})," ",c,"  "]}),Object(j.jsxs)("p",{children:[" ",Object(j.jsx)("strong",{children:"Tempo de Atividade(min): "})," ",e,"  "]})]})}function x(t){var e=Object(b.c)([t.topic]).message,n=Object(b.b)().connectionStatus;return Object(j.jsxs)("div",{className:"Card",children:[Object(j.jsx)("div",{className:"Title",children:Object(j.jsx)("h3",{children:" Robot Status "})}),Object(j.jsxs)("div",{className:"Content",children:[Object(j.jsxs)("p",{children:[" ",Object(j.jsx)("strong",{children:"Topic: "})," ",e&&e.topic," "]}),Object(j.jsx)(T,{msg:e&&e.message}),Object(j.jsxs)("p",{children:[" ",Object(j.jsx)("strong",{children:"Conection: "})," ",n," "]})]})]})}function v(t){return console.log("props "+t.outputTopic),Object(j.jsx)("div",{children:Object(j.jsxs)(b.a,{brokerUrl:"ws://157.230.89.7:1884",options:{keepalive:0},children:[Object(j.jsx)(O,{topic:t.inputTopic}),Object(j.jsx)(x,{topic:t.outputTopic})]})})}var g=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(t){var c;return Object(s.a)(this,n),(c=e.call(this,t)).state={mqttURAInput:"URA01/input",mqttURAOutput:"URA01/output",bodyChoice:1},c.handleTopicChange=c.handleTopicChange.bind(Object(r.a)(c)),c}return Object(a.a)(n,[{key:"handleTopicChange",value:function(t,e){this.setState({mqttURAInput:t,mqttURAOutput:e}),this.setState({bodyChoice:2}),console.log("T\xf3picos handleTopicChange:\n"+t+"\n"+e)}},{key:"render",value:function(){var t;return 1===this.state.bodyChoice?t=Object(j.jsx)(l,{onTopicChange:this.handleTopicChange,inputTopic:this.state.mqttURAInput,outputTopic:this.state.mqttURAOutput}):2===this.state.bodyChoice&&(t=Object(j.jsx)(v,{inputTopic:this.state.mqttURAInput,outputTopic:this.state.mqttURAOutput})),Object(j.jsxs)("div",{children:[Object(j.jsx)(d,{title:"Controle URA MQTT"}),t]})}}]),n}(c.Component);o.a.render(Object(j.jsx)(g,{}),document.getElementById("root"))},58:function(t,e,n){},59:function(t,e,n){},60:function(t,e,n){},66:function(t,e){},68:function(t,e){},84:function(t,e){},86:function(t,e){}},[[121,1,2]]]);
//# sourceMappingURL=main.5f17aa28.chunk.js.map